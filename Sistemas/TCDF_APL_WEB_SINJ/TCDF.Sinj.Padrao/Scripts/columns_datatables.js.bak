function TratarCamposBooleanos(data) {
    return '<input type="checkbox" ' + (data ? 'checked="true"' : '') + ' disabled="disabled" />';
}

var _columns_norma = [
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Tipo e Número", "sWidth": "20%", "sClass": "grid-cell ws nm_tipo_norma nr_norma", "mData": "nm_tipo_norma",
		"mRender": function (data, type, full) {
			return '<a href="./DetalhesDeNorma.aspx?id_norma=' + full.ch_norma + '" title="Visualizar detalhes da norma" />' + full.nm_tipo_norma + " " + (full.nr_norma != null ? full.nr_norma : "") + ' <img alt="detalhes" src="' + _urlPadrao + '/Imagens/ico_loupe_p.png" /></a>';
		}
	},
	{ "indice": 1, "isControl": false, "standard_view": true, "sTitle": "Assinatura", "sWidth": "", "sClass": "grid-cell ws dt_assinatura", "mData": "dt_assinatura" },
	{ "indice": 2, "isControl": false, "standard_view": true, "sTitle": "Origem", "sWidth": "", "sClass": "grid-cell ws sg_orgao", "mData": "origens", "bSortable": false,
		"mRender": function (data) {
			var origens = "";
			for (var i = 0; i < data.length; i++) {
				origens += (origens != "" ? "<br/>" : "") + '<a href="javascript:void(0)" onclick="javascript:CriarModalDescricaoOrigem(\'' + data[i].ch_orgao + '\')">' + data[i].sg_orgao + '</a>';
			}
			return origens;
		}
	},
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Ementa", "sWidt": "", "sClass": "grid-cell ws ds_ementa", "mData": "ds_ementa", "bSortable": false },
	{ "indice": 4, "isControl": false, "stadnard_view": true, "sTitle": "Situação", "sWidth": "", "sClass": "center ws nm_situacao", "mData": "nm_situacao" },
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": "Texto Integral", "sWidth": "110px", "sClass": "center ws all", "bSortable": false,
	    "mRender": function (data, type, full) {
	        var id_file = "";
	        var links = "";
	        var tipo = "";
			if (IsNotNullOrEmpty(full.ar_atualizado, 'id_file')) {
			    id_file = full.ar_atualizado.id_file;
			    tipo = full.ar_atualizado.mimetype.split('/')[1];
			}
            else if (full.fontes.length > 0) {
                for (var i = 0; i < full.fontes.length; i++) {
                    if (IsNotNullOrEmpty(full.fontes[i].ar_fonte, 'id_file')) {
                        id_file = full.fontes[i].ar_fonte.id_file;
                        tipo = full.fontes[i].ar_fonte.mimetype.split('/')[1];
                    }
                }
            }
            if (IsNotNullOrEmpty(id_file)) {
                var filename = getTitleNorma(full);

                links = '<a title="baixar arquivo" target="_blank" href="./Norma/' + full.ch_norma + '/' + filename + '"><img src="' + _urlPadrao + '/Imagens/ico_download_p.png" alt="download" /></a>' +
						'&nbsp;&nbsp;' +
						'<a title="visualizar texto" target="_blank" href="./TextoArquivoNorma.aspx?id_file=' + id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_p.png" alt="texto" /></a>';
			}
			return links;
		}
	}
];

var _columns_norma_es = [
	{ "indice": 0, "isControl": true, "standard_view": true, "sTitle": '<a title="Adicionar na cesta" href="javascript:void(0);" onclick="javascript:AdicionarNaCesta(null, true);" class="center"><img src="' + _urlPadrao + '/Imagens/ico_basket_p.png" alt="cesta" /><b>TODOS</b></a>', "sWidth": "60px", "sClass": "grid-cell ws center", "mData": "_score", "bSortable": false, "visible": true,
	    "mRender": function (data, type, full) {
	        if (!IsNotNullOrEmpty(window.aHighlight)) {
	            aHighlight = [];
	        }
	        aHighlight.push({ highlight: full.highlight, nm_base: 'sinj_norma', doc: full._source._metadata.id_doc, action: './DetalhesDeNorma.aspx?id_norma=' + full._source.ch_norma });
	        return '<a valor="sinj_norma_' + full._source._metadata.id_doc + '" title="Adicionar na cesta" href="javascript:void(0);" onclick="javascript:AdicionarNaCesta(\'sinj_norma_' + full._source._metadata.id_doc + '\');"><img src="' + _urlPadrao + '/Imagens/ico_basket_p.png" alt="cesta" /></a>';
	        //        return '<input class="check_cesta" type="checkbox" value="sinj_norma_' + full._source._metadata.id_doc + '" />';
	    }
	},
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Relevância", "sWidth": "", "sClass": "grid-cell ws", "mData": "_score", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._score;
	    }
	},
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Tipo e Número", "sWidth": "", "sClass": "grid-cell ws nm_tipo_norma nr_norma", "mData": "nm_tipo_norma", "visible": false,
	    "mRender": function (data, type, full) {
	        return '<button title="Detalhes" name="btn" type="submit" title="Detalhes" class="link" onclick="javascript:doc_clicked=' + full._source._metadata.id_doc + ';base_clicked=\'sinj_norma\'"><H2>' + full._source.nm_tipo_norma + " " + full._source.nr_norma + '</H2><img alt="detalhes" src="' + _urlPadrao + '/Imagens/ico_loupe_p.png" /> </button>';
	    }
	},
	{ "indice": 1, "isControl": false, "standard_view": true, "sTitle": "Assinatura", "sWidth": "", "sClass": "grid-cell ws dt_assinatura", "mData": "dt_assinatura", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.dt_assinatura;
	    }
	},
	{ "indice": 2, "isControl": false, "standard_view": true, "sTitle": "Origem", "sWidth": "", "sClass": "grid-cell ws sg_orgao", "mData": "origens", "bSortable": false, "visible": false,
	    "mRender": function (data, type, full) {
	        var origens = "";
	        for (var i = 0; i < full._source.origens.length; i++) {
	            origens += (origens != "" ? "<br/>" : "") + '<a href="javascript:void(0)" onclick="javascript:CriarModalDescricaoOrigem(\'' + full._source.origens[i].ch_orgao + '\')">' + full._source.origens[i].sg_orgao + '</a>';
	        }
	        return origens;
	    }
	},
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Ementa", "sWidth": "", "sClass": "grid-cell ws ds_ementa max-w-30-pc", "mData": "ds_ementa", "bSortable": false, "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.ds_ementa;
	    }
	},
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": "Situação", "sWidth": "", "sClass": "center ws nm_situacao", "mData": "nm_situacao", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.nm_situacao;
	    }
	},
	{ "indice": 5, "isControl": false, "standard_view": true, "sTitle": "Texto Integral", "sWidth": "10%", "sClass": "left ws all", "bSortable": false, "visible": false,
	    "mRender": function (data, type, full) {
	        var id_file = "";
	        var links = "";
	        var medida = "";
	        if (IsNotNullOrEmpty(full._source.ar_atualizado, 'id_file')) {
	            id_file = full._source.ar_atualizado.id_file;
	            medida = '<br/><b>' + (full._source.ar_atualizado.filesize / 1024).toFixed(0) + ' KB</b><br/>';
	        }
	        else if (IsNotNullOrEmpty(full._source.fontes) && full._source.fontes.length > 0 && IsNotNullOrEmpty(full._source.fontes[0].ar_fonte, 'id_file')) {
	            id_file = full._source.fontes[0].ar_fonte.id_file;
	            medida = '<br/><b>' + (full._source.fontes[0].ar_fonte.filesize / 1024).toFixed(0) + ' KB</b><br/>';
	        }
	        if (IsNotNullOrEmpty(id_file)) {
	            links = '<a title="baixar arquivo" target="_blank" href="./BaixarArquivoNorma.aspx?id_norma=' + full._source.ch_norma + '"><img src="' + _urlPadrao + '/Imagens/ico_download_m.png" alt="download" /></a>';
	            if (_aplicacao == "CADASTRO") {
	                links += '&nbsp;&nbsp;<a title="visualizar texto" target="_blank" href="./TextoArquivoNorma.aspx?id_file=' + id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" /></a>';
	            }
	        }
	        var icone = '<div class="fr" style="margin:2px;">' + links + '<br/>' + medida + '</div>';
	        return icone;
	    }
	},
	{ "indice": 6, "isControl": false, "standard_view": true, "sTitle": "&nbsp;", "sWidth": "", "sClass": "left ws", "bSortable": false,
	    "mRender": function (data, type, full) {
	        var html = '<div class="table w-100-pc">';
	        html += '<div class="line">' +
                '<div class="column">' +
	                '<button title="Detalhes" name="btn" type="submit" class="link" onclick="javascript:doc_clicked=' + full._source._metadata.id_doc + ';base_clicked=\'sinj_norma\'"><H2><span class="nm_tipo_norma">' + full._source.nm_tipo_norma + '</span> <span class="nr_norma nr_norma_text">' + full._source.nr_norma + '</span> de <span class="dt_assinatura dt_assinatura_text">' + full._source.dt_assinatura + (full._source.nm_tipo_norma.toLowerCase() == "parecer normativo" ? "*" : "") + ' <span class="st_norma nm_situacao">' + full._source.nm_situacao + '</span></H2><img alt="detalhes" src="' + _urlPadrao + '/Imagens/ico_loupe_p.png" /> </button>' +
                    (full._source.nm_tipo_norma.toLowerCase() == "parecer normativo" ? '<br/><span class="obs">*Data de Despacho do Governador</span>' : '') +
                    (full._source.st_vacatio_legis && IsNotNullOrEmpty(full._source.dt_inicio_vigencia) && convertStringToDateTime(full._source.dt_inicio_vigencia) > convertStringToDateTime(date_now) ? '<br/><span class="obs">*'+(IsNotNullOrEmpty(full._source.ds_vacatio_legis) ? full._source.ds_vacatio_legis : 'Entrará em vigor a partir de <span class="dt_inicio_vigencia">' + full._source.dt_inicio_vigencia + '</span>')+'</span>' : '') +
	            '</div>' +
            '</div>';
	        var origens = "";
	        for (var i = 0; i < full._source.origens.length; i++) {
	            origens += (origens != "" ? "<br/>" : "") + full._source.origens[i].sg_orgao + ' - ' + full._source.origens[i].nm_orgao;
	        }
	        html += '<div class="line">' +
                '<div class="column w-10-pc">' +
	                '<label>Origem:</label>' +
	            '</div>' +
                '<div class="column w-90-pc sg_orgao nm_orgao">' +
	                origens +
	            '</div>' +
            '</div>';

	        html += '<div class="line">' +
                '<div class="column w-10-pc">' +
	                '<label>Ementa:</label>' +
	            '</div>' +
                '<div class="column w-90-pc text-justify ds_ementa">' +
	                full._source.ds_ementa +
	            '</div>' +
            '</div>';

	        var id_file = "";
	        var nm_file = getTitleNorma(full._source);
	        var links = "";
	        var url_file = '';
	        var medida = "";
	        if (IsNotNullOrEmpty(full._source.ar_atualizado, 'id_file')) {
	            id_file = full._source.ar_atualizado.id_file;
	            url_file = './Norma/' + full._source.ch_norma + '/' + nm_file;
	            medida = '<b>(' + (full._source.ar_atualizado.filesize / 1024).toFixed(0) + ' KB)</b>';
	        }
	        else if (IsNotNullOrEmpty(full._source.fontes) && full._source.fontes.length > 0 && IsNotNullOrEmpty(full._source.fontes[0].ar_fonte, 'id_file')) {
	            id_file = full._source.fontes[0].ar_fonte.id_file;
	            url_file = './Norma/' + full._source.ch_norma + '/' + nm_file;
	            medida = '<b>(' + (full._source.fontes[0].ar_fonte.filesize / 1024).toFixed(0) + ' KB)</b>';
	        }
	        if (IsNotNullOrEmpty(url_file)) {
	            links = '<a title="baixar arquivo" target="_blank" href="' + url_file + '"><img src="' + _urlPadrao + '/Imagens/ico_download_m.png" alt="download" width="20px" /> ' + medida + '</a>';
	            if (_aplicacao == "CADASTRO") {
	                links += '&nbsp;&nbsp;<a title="visualizar texto" target="_blank" href="./TextoArquivoNorma.aspx?id_file=' + id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" /></a>';
	            }
	        }

	        if (links != '') {
	            html += '<div class="line">' +
                '<div class="column w-10-pc">' +
	                '<label>Texto Integral:</label>' +
	            '</div>' +
                '<div class="column w-90-pc">' +
	                links +
	            '</div>' +
            '</div></div>';
	        }
	        return html;
	    }
	}
];
var _columns_norma_favoritos = $.extend(true, [], _columns_norma_es);
_columns_norma_favoritos[0] = { "indice": 0, "isControl": true, "standard_view": true, "sTitle": ' ', "sWidth": "30px", "sClass": "grid-cell ws", "mData": "", "bSortable": false,
        "mRender": function (data, type, full) {
            return '<div class="button_favoritos_' + full._source.ch_norma + '" style="width:30px;"><a href="javascript:void(0);" title="Remover da lista de favoritos" onclick="javascript:RemoverFavoritos(\'.button_favoritos_' + full._source.ch_norma + '\',\'norma_' + full._source.ch_norma + '\');" ><img alt="*" src="' + _urlPadrao + '/Imagens/ico_del_fav.png" /></a></div>';
    }
};
_columns_norma_favoritos[8].mRender = function (data, type, full) {
    var html = '<div class="table w-100-pc">';
	html += '<div class="line">' +
        '<div class="column">' +
	        '<H2><a title="Detalhes" class="clear" href="./DetalhesDeNorma.aspx?id_norma=' + full._source.ch_norma + '"><span class="nm_tipo_norma">' + full._source.nm_tipo_norma + '</span> <span class="nr_norma nr_norma_text">' + full._source.nr_norma + '</span> de <span class="dt_assinatura dt_assinatura_text">' + full._source.dt_assinatura + ' <span class="st_norma nm_situacao">' + full._source.nm_situacao + '</span> <img alt="detalhes" src="' + _urlPadrao + '/Imagens/ico_loupe_p.png" /> </a></H2>' +
	    '</div>' +
    '</div>';
	if (full._source.st_vacatio_legis && IsNotNullOrEmpty(full._source.dt_inicio_vigencia)) {
	    html += '<div class="line">' +
            '<div class="column w-10-pc">' +
	            '<label>Vacatio Legis:</label>' +
	        '</div>' +
            '<div class="column w-90-pc text-justify">' +
	            'Em vigor a partir de <span class="dt_inicio_vigencia">' + full._source.dt_inicio_vigencia + '</span>' +
	        '</div>' +
        '</div>';
	}
	var origens = "";
	for (var i = 0; i < full._source.origens.length; i++) {
	    origens += (origens != "" ? "<br/>" : "") + full._source.origens[i].sg_orgao + ' - ' + full._source.origens[i].nm_orgao;
	}
	html += '<div class="line">' +
        '<div class="column w-10-pc">' +
	        '<label>Origem:</label>' +
	    '</div>' +
        '<div class="column w-90-pc sg_orgao nm_orgao">' +
	        origens +
	    '</div>' +
    '</div>';
	html += '<div class="line">' +
        '<div class="column w-10-pc">' +
	        '<label>Ementa:</label>' +
	    '</div>' +
        '<div class="column w-90-pc text-justify ds_ementa">' +
	        full._source.ds_ementa +
	    '</div>' +
    '</div>';

	var id_file = "";
	var nm_file = getTitleNorma(full._source);
	var links = "";
	var url_file = '';
	var medida = "";
	if (IsNotNullOrEmpty(full._source.ar_atualizado, 'id_file')) {
	    id_file = full._source.ar_atualizado.id_file;
	    url_file = './Norma/' + full._source.ch_norma + '/' + nm_file;
	    medida = '<b>(' + (full._source.ar_atualizado.filesize / 1024).toFixed(0) + ' KB)</b>';
	}
	else if (IsNotNullOrEmpty(full._source.fontes) && full._source.fontes.length > 0 && IsNotNullOrEmpty(full._source.fontes[0].ar_fonte, 'id_file')) {
	    id_file = full._source.fontes[0].ar_fonte.id_file;
	    url_file = './Norma/' + full._source.ch_norma + '/' + nm_file;
	    medida = '<b>(' + (full._source.fontes[0].ar_fonte.filesize / 1024).toFixed(0) + ' KB)</b>';
	}
	if (IsNotNullOrEmpty(url_file)) {
	    links = '<a title="baixar arquivo" target="_blank" href="' + url_file + '"><img src="' + _urlPadrao + '/Imagens/ico_download_m.png" alt="download" width="20px" /> ' + medida + '</a>';
	    if (_aplicacao == "CADASTRO") {
	        links += '&nbsp;&nbsp;<a title="visualizar texto" target="_blank" href="./TextoArquivoNorma.aspx?id_file=' + id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" /></a>';
	    }
	}

	if (links != '') {
	    html += '<div class="line">' +
        '<div class="column w-10-pc">' +
	        '<label>Texto Integral:</label>' +
	    '</div>' +
        '<div class="column w-90-pc">' +
	        links +
	    '</div>' +
    '</div></div>';
	}
	return html;
}

var _columns_norma_cesta = $.extend(true, [], _columns_norma_es);
_columns_norma_cesta[0] = {
    "indice": 0,
    "isControl": false,
    "standard_view": true,
    "sTitle": " ",
    "sWidth": "110px",
    "sClass": "center ws",
    "bSortable": false,
    "mRender": function (data, type, full) {
        if (!IsNotNullOrEmpty(window.aHighlight)) {
            aHighlight = [];
        }
        aHighlight.push({ highlight: full.highlight, nm_base: 'sinj_norma', doc: full._source._metadata.id_doc, action: './DetalhesDeNorma.aspx?id_norma=' + full._source.ch_norma });
        return "<a title='Remover da Cesta' href='javascript:ExcluirDaCesta(\"sinj_norma_" + full._source._metadata.id_doc + "\");' class='a_delete' ><img valign='absmiddle' alt='Excluir'  src='" + _urlPadrao + "/Imagens/ico_trash_p.png'  /></a>";
    }
};

var _columns_orgao = [
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Nome", "sWidth": "20%", "sClass": "grid-cell ws nm_orgao", "mData": "nm_orgao" },
	{ "indice": 1, "isControl": false, "standard_view": true, "sTitle": "Sigla", "sWidth": "", "sClass": "grid-cell ws sg_hierarquia", "mData": "",
		"mRender":function(data, type, full){
			return '<a href="javascript:void(0)" onclick="javascript:CriarModalDescricaoHierarquia(\''+full.ch_hierarquia+'\')">'+ full.sg_hierarquia + '</a>';
		}
	},
	{ "indice": 2, "isControl": false, "standard_view": true, "sTitle": "Início de Vigência", "sWidth": "", "sClass": "grid-cell ws dt_inicio_vigencia", "mData": "dt_inicio_vigencia" },
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Fim de Vigência", "sWidth": "", "sClass": "grid-cell ws dt_fim_vigencia", "mData": "dt_fim_vigencia" },
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": "Status", "sWidth": "", "sClass": "center ws st_orgao", "mData": "st_orgao",
		"mRender": function (data) {
			return TratarCamposBooleanos(data);
		}
	},
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": " ", "sWidth": "110px", "sClass": "center ws all", "mData": "", "bSortable": false,
		"mRender": function (data, type, full) {
			var detalhes = "&nbsp;<a title='Detalhes' href='./DetalhesDeOrgao.aspx?id_doc=" + full._metadata.id_doc + "'  ><img valign='absmiddle' alt='Detalhes' src='"+_urlPadrao+"/Imagens/ico_loupe_p.png' /></a>";
			var alterar = "";
			if (ValidarPermissao(_grupos.org_edt)) {
				alterar = "&nbsp;<a title='Alterar'  href='./EditarOrgao.aspx?id_doc=" + full._metadata.id_doc + "'     ><img valign='absmiddle' alt='Alterar'  src='"+_urlPadrao+"/Imagens/ico_pencil_p.png'   /></a>";
			}
			var excluir = "";
			if (ValidarPermissao(_grupos.org_exc)) {
				excluir = "&nbsp;<a title='Excluir'  href='javascript:Excluir(" + full._metadata.id_doc + ",\"datatable\");' class='a_delete'    ><img valign='absmiddle' alt='Excluir'  src='"+_urlPadrao+"/Imagens/ico_trash_p.png'  /></a>";
			}
			return detalhes + alterar + excluir;
		}
	}
];

var _columns_diario = [
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Tipo", "sWidth": "10%", "sClass": "grid-cell ws nm_tipo_fonte", "mData": "nm_tipo_fonte" },
	{ "indice": 1, "isControl": false, "standard_view": true, "sTitle": "Número", "sWidth": "", "sClass": "grid-cell ws nr_diario", "mData": "nr_diario",
	    "mRender": function (data, type, full) {
	        return full.nr_diario + (IsNotNullOrEmpty(full.cr_diario) ? " " + full.cr_diario : "");
	    }
	},
	{ "indice": 2, "sDefaultContent": "", "isControl": false, "standard_view": true, "sTitle": "Seção", "sWidth": "", "sClass": "grid-cell ws secao_diario", "mData": "secao_diario" },
    { "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Tipo de Edição", "sWidth": "15%", "sClass": "grid-cell ws nm_tipo_edicao", "mData": "nm_tipo_edicao" },
    { "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Diferencial Edição", "sDefaultContent": "", "sWidth": "", "sClass": "grid-cell ws nm_diferencial_edicao", "mData": "nm_diferencial_edicao", "bSortable": false },
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Sumplemento", "sDefaultContent": "", "sWidth": "", "sClass": "grid-cell ws nm_diferencial_suplemento", "mData": "nm_diferencial_suplemento", "bSortable": false },
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Data de Assinatura", "sWidth": "", "sClass": "grid-cell ws dt_assinatura", "mData": "dt_assinatura", "sorting": "desc" },
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": "Pendente", "sWidth": "", "sClass": "center ws st_pendente", "mData": "st_pendente",
	    "mRender": function (data) {
	        return TratarCamposBooleanos(data);
	    }
	},
	{ "indice": 4, "isControl": false, "standard_view": true, "sTitle": "Detalhes", "sWidth": "50px", "sClass": "center ws all", "mData": "", "bSortable": false,
	    "mRender": function (data, type, full) {
	        return "&nbsp;<a title='Detalhes' href='./DetalhesDeDiario.aspx?id_doc=" + full._metadata.id_doc + "'  ><img valign='absmiddle' alt='Detalhes' src='" + _urlPadrao + "/Imagens/ico_loupe_p.png' /></a>";
	    }
	},
	{ "indice": 5, "isControl": false, "standard_view": true, "sTitle": "Texto Integral", "sWidth": "110px", "sClass": "center ws all", "mData": "", "bSortable": false,
	    "mRender": function (data, type, full) {
	        var txt_retorno = "";
	        if (IsNotNullOrEmpty(full, 'ar_diario.filename')) {
	            var arquivo = '<a title="baixar arquivo" target="_blank" href="./BaixarArquivoDiario.aspx?id_file=' + full.ar_diario.id_file + '"><img src="' + _urlPadrao + '/Imagens/ico_download_p.png" alt="download" /></a><br/>';
	            var texto = '<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + full.ar_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_p.png" alt="texto" /></a>';

	            txt_retorno += texto + arquivo;
	        }
	        else if (IsNotNullOrEmpty(full, 'arquivos')) {
	            for (var i = 0; i < full.arquivos.length; i++) {
	                var obj_arquivo = full.arquivos[i];
	                var arquivo = '<a title="baixar arquivo" target="_blank" href="./BaixarArquivoDiario.aspx?id_file=' + obj_arquivo.arquivo_diario.id_file + '"><img src="' + _urlPadrao + '/Imagens/ico_download_p.png" alt="download" /></a>' + obj_arquivo.ds_arquivo + '<br/>';
	                var texto = '<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + obj_arquivo.arquivo_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_p.png" alt="texto" /></a>';
	                txt_retorno += texto + arquivo;
	            }
	        }
	        return txt_retorno;
	    }
	}
];

var _columns_diario_es = [
	{ "indice": 0, "isControl": true, "standard_view": true, "sTitle": '<a title="Adicionar na cesta" href="javascript:void(0);" onclick="javascript:AdicionarNaCesta(null, true);"><img src="' + _urlPadrao + '/Imagens/ico_basket_p.png" alt="cesta" /><b>TODOS</b></a>', "sWidth": "60px", "sClass": "grid-cell ws center", "mData": "", "bSortable": false,
	    "mRender": function (data, type, full) {
	        if (!IsNotNullOrEmpty(window.aHighlight)) {
	            aHighlight = [];
	        }
	        aHighlight.push({ highlight: full.highlight, nm_base: 'sinj_diario', doc: full._source._metadata.id_doc, action: "./DetalhesDeDiario.aspx?id_doc=" + full._source._metadata.id_doc });
	        return '<a valor="sinj_diario_' + full._source._metadata.id_doc + '" title="Adicionar na cesta" href="javascript:void(0);" onclick="javascript:AdicionarNaCesta(\'sinj_diario_' + full._source._metadata.id_doc + '\');"><img src="' + _urlPadrao + '/Imagens/ico_basket_p.png" alt="cesta" /></a>';
	    }
	},
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Relevância", "sWidth": "", "sClass": "grid-cell ws", "mData": "_score", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._score;
	    }
	},
	{ "indice": 0, "isControl": false, "standard_view": true, "sTitle": "Tipo", "sWidth": "", "sClass": "grid-cell ws nm_tipo_fonte", "mData": "nm_tipo_fonte", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.nm_tipo_fonte;
	    }
	},
	{ "indice": 1, "isControl": false, "standard_view": true, "sTitle": "Número", "sWidth": "", "sClass": "grid-cell ws nr_diario", "mData": "nr_diario", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.nr_diario + (IsNotNullOrEmpty(full._source.cr_diario) ? " " + full._source.cr_diario : "");
	    }
	},
	{ "indice": 2, "isControl": false, "standard_view": true, "sTitle": "Seção", "sWidth": "", "sClass": "grid-cell ws secao_diario", "mData": "secao_diario", "visible": false,
	    "mRender": function (data, type, full) {
	        return getVal(full._source.secao_diario);
	    }
	},
	{ "indice": 3, "isControl": false, "standard_view": true, "sTitle": "Data de Publicação", "sWidth": "", "sClass": "grid-cell ws dt_assinatura", "mData": "dt_assinatura", "visible": false,
	    "mRender": function (data, type, full) {
	        return full._source.dt_assinatura;
	    }
	},
	{ "indice": 5, "isControl": false, "standard_view": true, "sTitle": "Texto Integral", "sWidth": "", "sClass": "left ws all", "mData": "", "bSortable": false, "visible": false,
	    "mRender": function (data, type, full) {
	        //        return icone + campo_highlight;
	        return "";
	    }
	},
    { "indice": 6, "isControl": false, "standard_view": true, "sTitle": " ", "sWidth": "", "sClass": "left ws", "bSortable": false,
        "mRender": function (data, type, full) {
            var buttonTitle = '<H2>' + montarSpanDescricaoDiario(full._source) + '</H2>';
            if (_aplicacao == "CADASTRO") {
                buttonTitle = '<button title="Detalhes" name="btn" type="submit" class="link" onclick="javascript:doc_clicked=' + full._source._metadata.id_doc + ';base_clicked=\'sinj_diario\'">' + buttonTitle + '<img alt="detalhes" src="' + _urlPadrao + '/Imagens/ico_loupe_p.png" /></button>';
            }
            var campo_highlight = '';
            var id_file = "";
            var nm_file = "";
            var links = "";
            var url_file = '';
            var medida = "";
            if (IsNotNullOrEmpty(full._source, 'ar_diario.id_file')) {
                id_file = full._source.ar_diario.id_file;
                nm_file = full._source.ar_diario.filename;
                url_file = './Diario/' + full._source.ch_diario + '/' + id_file + '/arq/' + nm_file;
                campo_highlight = MontarHighlight(full.highlight, 'ar_diario.filetext');
                medida = '<b>(' + (full._source.ar_diario.filesize / 1024).toFixed(0) + ' KB)</b>';

                links = '<a title="baixar arquivo" target="_blank" href="' + url_file + '"><img src="' + _urlPadrao + '/Imagens/ico_pdf.png" alt="download" width="20px" /> ' + medida + '</a>';
                if (_aplicacao == "CADASTRO") {
                    links += '&nbsp;&nbsp;<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + full._source.ar_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" height="20px" /></a>';
                }
            }
            else {
                campo_highlight = MontarHighlight(full.highlight, 'arquivos.arquivo_diario.filetext');
                for (var i = 0; i < full._source.arquivos.length; i++) {
                    var obj_arquivo = full._source.arquivos[i];

                    id_file = obj_arquivo.arquivo_diario.id_file;
                    nm_file = obj_arquivo.arquivo_diario.filename;
                    url_file = './Diario/' + full._source.ch_diario + '/' + id_file + '/arq/' + i + '/' + nm_file;
                    medida = '<b>(' + (obj_arquivo.arquivo_diario.filesize / 1024).toFixed(0) + ' KB)</b>';

                    links += '<a title="baixar arquivo" target="_blank" href="' + url_file + '"><img src="' + _urlPadrao + '/Imagens/ico_pdf.png" alt="download" width="20px" /> ' + medida + '</a>';
                    if (_aplicacao == "CADASTRO") {
                        links += '&nbsp;&nbsp;<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + obj_arquivo.arquivo_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" height="20px" /></a>';
                    }
                    links += '&nbsp;&nbsp;' + obj_arquivo.ds_arquivo + '<br/>';

                }
            }

            if (IsNotNullOrEmpty(campo_highlight)) {
                campo_highlight = campo_highlight.replace(/## img.* ##/g, '').replace(/##/g, '');
            }

            var html = '<div class="table w-100-pc">'+
                '<div class="line">' +
                    '<div class="column w-80-pc">' +
                        buttonTitle +
	                    (campo_highlight.indexOf("<span class='highlight'>") > -1 ? '<br/>' + campo_highlight : '') +
	                '</div>' +
                    '<div class="column w-20-pc"><div>' +
	                    '<label>Texto Integral:</label><br/>' +
	                    links +
	                '</div>' +
                '</div>' +
            '</div>';
            return html;
        }
    }
];

var _columns_texto_diario = [
    { "indice": 5, "isControl": false, "standard_view": true, "sTitle": "<br/>", "sWidth": "", "sClass": "left ws all", "mData": "", "bSortable": false,
        "mRender": function (data, type, full) {
            var medida = '';
            var links = '';
            var arquivos = '';
            var id_file = "";
            var nm_file = "";
            var url_file = "";
            if (IsNotNullOrEmpty(full.fields.partial[0], 'ar_diario.id_file')) {
                medida = (full.fields.partial[0].ar_diario.filesize / 1024).toFixed(0) + ' KB<br/>';
                links = '<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + full.fields.partial[0].ar_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" /></a>';
                id_file = full.fields.partial[0].ar_diario.id_file;
                nm_file = full.fields.partial[0].ar_diario.filename;
                url_file = './Diario/' + full.fields.partial[0].ch_diario + '/' + id_file + '/arq/' + nm_file;
                links += '&nbsp;&nbsp;<a title="baixar arquivo" target="_blank" href="' + url_file + '"><img src="' + _urlPadrao + '/Imagens/ico_pdf.png" alt="download" width="20px" /></a>';
                var icone = '<div class="text-center">' + links + '<br/>' + medida + '</div>';
                var campo_highlight = MontarHighlight(full.highlight, 'ar_diario.filetext');
                if (IsNotNullOrEmpty(campo_highlight)) {
                    campo_highlight = campo_highlight.replace(/## img.* ##/g, '').replace(/##/g, '');
                }
                arquivos = '<div class="line"><div class="column w-80-pc">' + campo_highlight + '</div><div class="column w-20-pc">' + icone + '</div></div>';
            }
            else if (IsNotNullOrEmpty(full.fields.partial[0], 'arquivos')) {
                var campo_highlight = MontarHighlight(full.highlight, 'arquivos.arquivo_diario.filetext');
                if (IsNotNullOrEmpty(campo_highlight)) {
                    campo_highlight = campo_highlight.replace(/## img.* ##/g, '').replace(/##/g, '');
                }
                for (var i = 0; i < full.fields.partial[0].arquivos.length; i++) {
                    var obj_arquivo = full.fields.partial[0].arquivos[i];
                    medida = (obj_arquivo.arquivo_diario.filesize / 1024).toFixed(0) + ' KB<br/>';
                    id_file = obj_arquivo.arquivo_diario.id_file;
                    nm_file = obj_arquivo.arquivo_diario.filename;
                    url_file = './Diario/' + full.fields.partial[0].ch_diario + '/' + id_file + '/arq/' + i + '/' + nm_file;
                    links = '<a title="visualizar texto" target="_blank" href="./TextoArquivoDiario.aspx?id_file=' + obj_arquivo.arquivo_diario.id_file + '" ><img src="' + _urlPadrao + '/Imagens/ico_doc_m.png" alt="texto" width="20px" /></a>';
                    links += '
