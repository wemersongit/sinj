{
    "settings": {
        "index": {
            "analysis": {
                "char_filter": {
                    "alfanumeric_pattern": {
                        "type": "pattern_replace",
                        "pattern": "[^a-zA-Z0-9]",
                        "replacement": ""
                    },
                    "cabecalho_pattern": {
                        "type": "pattern_replace",
                        "pattern": "\\n\\f.*?\\n.*?\\n",
                        "replacement": " "
                    },
                    "mapping_filter": {
                        "type": "mapping",
                        "mappings": ["-\\n=>"]
                    }
                },
                "analyzer": {
                    "keyword_analyzer": {
                        "tokenizer": "keyword"
                    },
                    "default": {
                        "filter": [
                            "lowercase",
                            "asciifolding"
                        ],
                        "tokenizer": "standard"
                    },
                    "stemmer_analyzer_and_mapping": {
                        "char_filter": [
                            "cabecalho_pattern",
                            "mapping_filter"
                        ],
                        "filter": [
                            "lowercase",
                            "asciifolding",
                            "stemmer_pt_br"
                        ],
                        "tokenizer": "standard"
                    },
                    "alfanumeric_analyzer": {
                        "char_filter": [
                            "alfanumeric_pattern"
                        ],
                        "filter": [
                            "lowercase",
                            "asciifolding"
                        ],
                        "tokenizer": "standard"
                    },
                    "stemmer_analyzer": {
                        "filter": [
                            "lowercase",
                            "asciifolding",
                            "stemmer_pt_br"
                        ],
                        "tokenizer": "standard"
                    },
                    "ngram_analyzer": {
                        "char_filter": [
                            "alfanumeric_pattern"
                        ],
                        "filter": [
                            "lowercase",
                            "asciifolding"
                        ],
                        "tokenizer": "ngram_tokenizer"
                    },
                    "numeric_analyzer": {
                        "filter": [
                            "numeric_filter"
                        ],
                        "tokenizer": "keyword"
                    }
                },
                "filter": {
                    "stemmer_pt_br": {
                        "type": "stemmer",
                        "name": "brazilian"
                    },
                    "numeric_filter": {
                        "type": "pattern_replace",
                        "pattern": "[^0-9]",
                        "replacement": ""
                    }
                },
                "tokenizer": {
                    "ngram_tokenizer": {
                        "min_gram": "2",
                        "type": "ngram",
                        "max_gram": "3",
                        "token_chars": [
                            "digit",
                            "letter"
                        ]
                    }
                }
            }
        }
    },
    "mappings":{
        "diario": {
            "properties": {
                "_metadata": {
                    "properties": {
                        "dt_doc": {
                            "type": "date",
                            "format": "dd/MM/yyyy HH:mm:ss"
                        },
                        "dt_idx": {
                            "type": "date",
                            "format": "dd/MM/yyyy HH:mm:ss"
                        },
                        "dt_last_up": {
                            "type": "date",
                            "format": "dd/MM/yyyy HH:mm:ss"
                        },
                        "id_doc": {
                            "type": "long"
                        }
                    }
                },
                "alteracoes": {
                    "properties": {
                        "dt_alteracao": {
                            "type": "date",
                            "format": "dd/MM/yyyy HH:mm:ss"
                        },
                        "nm_login_usuario_alteracao": {
                            "type": "string"
                        }
                    }
                },
                "ar_diario": {
                    "properties": {
                        "filename": {
                            "type": "string"
                        },
                        "filesize": {
                            "type": "long"
                        },
                        "filetext": {
                            "type": "string",
                            "analyzer": "stemmer_analyzer_and_mapping"
                        },
                        "id_file": {
                            "type": "string"
                        },
                        "mimetype": {
                            "type": "string"
                        },
                        "uuid": {
                            "type": "string"
                        }
                    }
                },
                "arquivos":{
                    "properties": {
                        "ds_arquivo": {
                            "type": "string"
                        },
                        "arquivo_diario": {
                            "properties": {
                                "filename": {
                                    "type": "string"
                                },
                                "filesize": {
                                    "type": "long"
                                },
                                "filetext": {
                                    "type": "string",
                                    "analyzer": "stemmer_analyzer_and_mapping"
                                },
                                "id_file": {
                                    "type": "string"
                                },
                                "mimetype": {
                                    "type": "string"
                                },
                                "uuid": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "ch_diario": {
                    "type": "string"
                },
                "ch_para_nao_duplicacao": {
                    "type": "string"
                },
                "ch_tipo_fonte": {
                    "type": "string"
                },
                "cr_diario": {
                    "type": "string"
                },
                "ds_pendencia": {
                    "type": "string"
                },
                "dt_assinatura": {
                    "type": "date",
                    "fields": {
                        "dt_assinatura_text": {
                            "type": "string"
                        },
                        "dt_assinatura_untouched": {
                            "type": "date",
                            "format": "dd/MM/yyyy"
                        }
                    },
                    "format": "dd/MM/yyyy"
                },
                "dt_cadastro": {
                    "type": "date",
                    "format": "dd/MM/yyyy HH:mm:ss"
                },
                "nm_login_usuario_cadastro": {
                    "type": "string"
                },
                "nm_tipo_fonte": {
                    "type": "string",
                    "fields":{
                        "nm_tipo_fonte_keyword":{
                            "type":"string",
                            "analyzer":"keyword_analyzer"
                        }
                    }
                },
                "nr_ano": {
                    "type": "long"
                },
                "nr_diario": {
                    "type": "long",
                    "fields": {
                        "nr_diario_text": {
                            "type": "string",
                            "analyzer": "alfanumeric_analyzer"
                        },
                        "nr_diario_untouched": {
                            "type": "long"
                        }
                    }
                },
                "secao_diario": {
                    "type": "string"
                },
                "st_pendente": {
                    "type": "boolean"
                }
            }
        }
    }
}