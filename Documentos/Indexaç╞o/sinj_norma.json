{
    "settings":{
        "analysis":{  
            "char_filter":{  
                "alfanumeric_pattern":{  
                    "type":"pattern_replace",
                    "pattern":"[^a-zA-Z0-9]",
                    "replacement":""
                },
                "mapping_filter":{  
                    "type":"mapping",
                    "mappings":["-\\n=>"]
                }
            },
            "tokenizer":{  
                "ngram_tokenizer":{  
                    "min_gram":"2",
                    "type":"ngram",
                    "max_gram":"3",
                    "token_chars":[  
                        "digit",
                        "letter"
                    ]
                }
            },
            "filter":{
                "stemmer_pt_br":{
                    "type":"stemmer",
                    "name":"brazilian"
                },
                "numeric_filter":{
                    "type":"pattern_replace",
                    "pattern":"[^0-9]",
                    "replacement":""
                },
                "leading_zeroes_filter":{
                    "type":"pattern_replace",
                    "pattern":"^0+",
                    "replacement":""
                }
            },
            "analyzer":{  
                "keyword_analyzer":{
                    "tokenizer":"keyword"
                },
                "ngram_analyzer":{  
                    "char_filter":[  
                        "alfanumeric_pattern"
                    ],
                    "filter":[  
                        "lowercase",
                        "asciifolding"
                    ],
                    "tokenizer":"ngram_tokenizer"
                },
                "stemmer_analyzer":{
                    "tokenizer":"standard",
                    "filter":[
                        "lowercase",
                        "asciifolding",
                        "stemmer_pt_br"
                    ]
                },
                "stemmer_analyzer_and_mapping":{
                    "char_filter":[  
                        "mapping_filter"
                    ],
                    "tokenizer":"standard",
                    "filter":[
                        "lowercase",
                        "asciifolding",
                        "stemmer_pt_br"
                    ]
                },
                "alfanumeric_analyzer":{
                    "char_filter":[  
                        "alfanumeric_pattern"
                    ],
                    "filter":[  
                        "lowercase",
                        "asciifolding",
						"leading_zeroes_filter"
                    ],
                    "tokenizer":"standard"
                },
                "numeric_analyzer":{
                    "filter":[  
                        "numeric_filter"
                    ],
                    "tokenizer":"keyword"
                },
				"leading_zeroes_analyzer":{
					"filter":[
						"leading_zeroes_filter"
					],
                    "tokenizer":"keyword"
				},
                "naturalsort_analyzer":{
                    "tokenizer": "keyword",
                    "filter": "naturalsort"
                },
                "default":{  
                    "filter":[  
                        "lowercase",
                        "asciifolding"
                    ],
                    "tokenizer":"standard"
                }
            }
        }
    },
    "mappings":{
        "norma":{  
            "properties":{  
                "_metadata":{  
                    "properties":{  
                        "dt_doc":{  
                            "type":"date",
                            "format":"dd/MM/yyyy HH:mm:ss"
                        },
                        "dt_idx":{  
                            "type":"date",
                            "format":"dd/MM/yyyy HH:mm:ss"
                        },
                        "dt_last_up":{  
                            "type":"date",
                            "format":"dd/MM/yyyy HH:mm:ss"
                        },
                        "id_doc":{  
                            "type":"long"
                        }
                    }
                },
                "alteracoes":{  
                    "properties":{  
                        "dt_alteracao":{  
                            "type":"date",
                            "format":"dd/MM/yyyy HH:mm:ss"
                        },
                        "nm_login_usuario_alteracao":{  
                            "type":"string"
                        }
                    }
                },
                "ar_acao":{  
                    "properties":{  
                        "filesize":{  
                            "type":"long"
                        }
                    }
                },
                "ar_atualizado":{  
                    "properties":{  
                        "filename":{  
                            "type":"string"
                        },
                        "filesize":{  
                            "type":"long"
                        },
                        "filetext":{  
                            "type":"string",
                            "analyzer": "stemmer_analyzer"
                        },
                        "id_file":{  
                            "type":"string"
                        },
                        "mimetype":{  
                            "type":"string"
                        },
                        "uuid":{  
                            "type":"string"
                        }
                    }
                },
                "autorias":{  
                    "properties":{  
                        "ch_autoria":{  
                            "type":"string"
                        },
                        "nm_autoria":{  
                            "type":"string"
                        }
                    }
                },
                "ch_norma":{  
                    "type":"string"
                },
                "ch_para_nao_duplicacao":{  
                    "type":"string"
                },
                "ch_situacao":{  
                    "type":"string"
                },
                "ch_tipo_norma":{  
                    "type":"string"
                },
                "cr_norma":{  
                    "type":"string"
                },
                "ds_ementa":{  
                    "type":"string",
                    "analyzer": "stemmer_analyzer"
                },
                "ds_observacao":{  
                    "type":"string"
                },
                "ds_pendencia":{  
                    "type":"string"
                },
                "dt_assinatura":{  
                    "type":"date",
                    "format":"dd/MM/yyyy",
                    "fields":{
                        "dt_assinatura_text":{  
                            "type":"string"
                        },
                        "dt_assinatura_untouched":{
                            "type":"date",
                            "format":"dd/MM/yyyy",
                            "index":"not_analyzed",
                            "omit_norms":true,
                            "include_in_all":false
                        }
                    }
                },
                "dt_autuacao":{  
                    "type":"date",
                    "format":"dd/MM/yyyy",
                    "fields":{
                        "dt_autuacao_text":{  
                            "type":"string"
                        }
                    }
                },
                "dt_cadastro":{  
                    "type":"date",
                    "format":"dd/MM/yyyy HH:mm:ss"
                },
                "fontes":{  
                    "properties":{  
                        "ar_fonte":{  
                            "properties":{  
                                "filename":{  
                                    "type":"string"
                                },
                                "filesize":{  
                                    "type":"long"
                                },
                                "filetext":{  
                                    "type":"string",
                                    "analyzer": "stemmer_analyzer"
                                },
                                "id_file":{  
                                    "type":"string"
                                },
                                "mimetype":{  
                                    "type":"string"
                                },
                                "uuid":{  
                                    "type":"string"
                                }
                            }
                        },
                        "ch_fonte":{  
                            "type":"string"
                        },
                        "ch_tipo_fonte":{  
                            "type":"string"
                        },
                        "ch_tipo_publicacao":{  
                            "type":"string"
                        },
                        "ds_observacao_fonte":{  
                            "type":"string"
                        },
                        "ds_republicacao":{  
                            "type":"string"
                        },
                        "dt_publicacao":{  
                            "type":"date",
                            "format":"dd/MM/yyyy"
                        },
                        "in_tipo_edicao":{  
                            "type":"long"
                        },
                        "nm_tipo_edicao":{  
                            "type":"string"
                        },
                        "nm_tipo_fonte":{  
                            "type":"string"
                        },
                        "nm_tipo_publicacao":{  
                            "type":"string"
                        },
                        "nr_coluna":{  
                            "type":"string"
                        },
                        "nr_pagina":{  
                            "type":"string"
                        }
                    }
                },
                "id_ambito":{  
                    "type":"long"
                },
                "id_orgao_cadastrador":{  
                    "type":"long"
                },
                "indexacoes":{  
                    "properties":{  
                        "vocabulario":{  
                            "properties":{  
                                "ch_termo":{  
                                    "type":"string"
                                },
                                "ch_tipo_termo":{  
                                    "type":"string"
                                },
                                "nm_termo":{  
                                    "type":"string"
                                }
                            }
                        }
                    }
                },
                "nm_ambito":{  
                    "type":"string"
                },
                "nm_apelido":{  
                    "type":"string"
                },
                "nm_login_usuario_cadastro":{  
                    "type":"string"
                },
                "nm_orgao_cadastrador":{  
                    "type":"string"
                },
                "nm_pessoa_fisica_e_juridica":{  
                    "type":"string"
                },
                "nm_situacao":{  
                    "type":"string",
                    "fields":{
                        "nm_situacao_keyword":{
                            "type":"string",
                            "analyzer":"keyword_analyzer"
                        }
                    }
                },
                "nm_tipo_norma":{  
                    "type":"string",
                    "fields":{  
                        "nm_tipo_norma_untouched":{
                            "type":"string",
                            "index":"not_analyzed",
                            "omit_norms":true,
                            "include_in_all":false
                        },
                        "nm_tipo_norma_keyword":{
                            "type":"string",
                            "analyzer":"keyword_analyzer"
                        }
                    }
                },
                "nr_norma":{   
                    "type":"string",
                    "analyzer": "alfanumeric_analyzer",
                    "fields":{
                        "nr_norma_numeric":{
                            "type":"string",
                            "analyzer": "leading_zeroes_analyzer"
                        },
                        "nr_norma_untouched":{
                            "type":"string",
                            "analyzer": "naturalsort_analyzer"
                        }
                    }
                },
                "nr_sequencial":{  
                    "type":"long"
                },
                "origens":{  
                    "properties":{  
                        "ch_orgao":{  
                            "type":"string"
                        },
                        "nm_orgao":{  
                            "type":"string",
                            "fields":{
                                "nm_orgao_keyword":{
                                    "type":"string",
                                    "analyzer":"keyword_analyzer"
                                }
                            }
                        },
                        "sg_orgao":{  
                            "type":"string",
                            "fields":{
                                "sg_orgao_keyword":{
                                    "type":"string",
                                    "analyzer":"keyword_analyzer"
                                }
                            }
                        }
                    }
                },
                "rankeamentos":{  
                    "type":"string"
                },
                "relatores":{  
                    "properties":{  
                        "ch_relator":{  
                            "type":"string"
                        },
                        "nm_relator":{  
                            "type":"string"
                        }
                    }
                },
                "requerentes":{  
                    "properties":{  
                        "ch_requerente":{  
                            "type":"string"
                        },
                        "nm_requerente":{  
                            "type":"string"
                        }
                    }
                },
                "st_atualizada":{  
                    "type":"boolean"
                },
                "st_destaque":{  
                    "type":"boolean"
                },
                "st_nova":{  
                    "type":"boolean"
                },
                "st_pendencia":{  
                    "type":"boolean"
                },
                "vides":{  
                    "properties":{  
                        "alinea_norma_vide":{  
                            "type":"string"
                        },
                        "anexo_norma_vide":{  
                            "type":"string"
                        },
                        "artigo_norma_vide":{  
                            "type":"string"
                        },
                        "ch_tipo_fonte_norma_vide":{  
                            "type":"string"
                        },
                        "ch_tipo_norma_vide":{  
                            "type":"string"
                        },
                        "ch_tipo_relacao":{  
                            "type":"string"
                        },
                        "ch_vide":{  
                            "type":"string"
                        },
                        "ds_comentario_vide":{  
                            "type":"string"
                        },
                        "ds_texto_relacao":{  
                            "type":"string"
                        },
                        "dt_assinatura_norma_vide":{  
                            "type":"date",
                            "format":"dd/MM/yyyy"
                        },
                        "dt_publicacao_fonte_norma_vide":{  
                            "type":"string"
                        },
                        "id_norma_vide":{  
                            "type":"long"
                        },
                        "in_norma_afetada":{  
                            "type":"boolean"
                        },
                        "in_relacao_de_acao":{  
                            "type":"boolean"
                        },
                        "inciso_norma_vide":{  
                            "type":"string"
                        },
                        "item_norma_vide":{  
                            "type":"string"
                        },
                        "nm_tipo_fonte_norma_vide":{  
                            "type":"string"
                        },
                        "nm_tipo_norma_vide":{  
                            "type":"string"
                        },
                        "nm_tipo_relacao":{  
                            "type":"string"
                        },
                        "nr_norma_vide":{  
                            "type":"string"
                        },
                        "paragrafo_norma_vide":{  
                            "type":"string"
                        }
                    }
                }
            }
        }
    }
}